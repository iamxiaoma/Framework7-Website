<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Router Component | Framework7 v2 Documentation</title>
    <meta property="og:image" content="http://framework7.io/i/f7-banner.jpg">
    <meta name="viewport" content="width=device-width, viewport-fit=cover">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@framework7io">
    <meta name="twitter:creator" content="@framework7io">
    <meta name="twitter:title" content="Router Component | Framework7 v2 Documentation">
    <meta name="twitter:image" content="https://avatars0.githubusercontent.com/u/31954178?s=200&amp;v=4">
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="shortcut icon" href="/i/favicon.png">
    <script src="/js/modernizr-2.7.1.min.js"></script>
  </head>
  <body class="body-docs">
    <header class="internal-header">
      <div class="center">
        <div class="logo-holder"><a class="logo" href="/"></a></div>
        <div class="header-content">
          <div class="title">Framework7 v2</div>
          <ul class="nav">
            <li><a href="/docs/">Docs</a>
              <ul>
                <li><a href="/docs/introduction.html">Getting Started</a></li>
                <li><a href="/docs/">Framework7 / API</a></li>
                <li><a href="/vue/">Framework7 Vue</a></li>
                <li><a href="/docs/dom7.html">Dom7</a></li>
                <li><a href="http://idangero.us/template7/" target="_blank">Template7</a></li>
              </ul>
            </li>
            <li><a href="#">Resources</a>
              <ul>
                <li><a href="http://forum.framework7.io" target="_blank">Community Forum</a></li>
                <li><a href="http://framework7.io/tutorials/" target="_blank">Tutorials</a></li>
                <li><a href="http://framework7.io/templates/" target="_blank">Templates</a></li>
                <li><a href="http://framework7.io/plugins/" target="_blank">Plugins</a></li>
                <li><a href="http://framework7.io/showcase/" target="_blank">Apps Showcase</a></li>
                <li><a href="http://framework7.io/icons/" target="_blank">Framework7 Icons</a></li>
              </ul>
            </li>
            <li><a href="http://blog.framework7.io" target="_blank">Blog</a></li>
            <li><a href="http://framework7.io//contribute/" target="_blank">Contribute</a></li>
          </ul>
          <div class="patreon-github"><a class="patreon-button" href="https://www.patreon.com/vladimirkharlampidi" target="_blank"><span class="patreon-logo"></span><span class="patreon-text">Support Framework7</span></a>
            <div class="github-buttons"><a href="https://github.com/nolimits4web/framework7/" target="_blank"><img src="/i/gh-logo.png"></a><a class="gh-stars" href="https://github.com/nolimits4web/framework7/" target="_blank"><span></span> stars</a><a class="gh-forks" href="https://github.com/nolimits4web/framework7/" target="_blank"><span></span> forks</a></div>
          </div>
        </div>
        <div class="carbon"><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=framework7io" id="_carbonads_js"></script></div>
      </div>
    </header>
    <div class="bsa-cpc"></div>
    <main>
      <div class="center">
        <div class="docs-nav">
          <div class="docs-nav-toggle"><span></span><span></span><span></span></div>
          <ul>
            <li>
              <div class="title">Get Started</div>
              <ul>
                <li><a href="introduction.html">Introduction</a></li>
                <li><a href="installation.html">Installation</a></li>
                <li><a href="app-layout.html">App HTML Layout</a></li>
                <li><a href="rtl-layout.html">RTL Layout</a></li>
                <li><a href="init-app.html">Initialize App</a></li>
              </ul>
            </li>
            <li>
              <div class="title">Events</div>
              <ul>
                <li><a href="events.html">Events</a></li>
              </ul>
            </li>
            <li>
              <div class="title">Router / Navigation</div>
              <ul>
                <li><a href="routes.html">Routes</a></li>
                <li><a href="router-component.html">Router Component</a></li>
                <li><a href="view.html#router-api-methods-properties">Router API</a></li>
              </ul>
            </li>
            <li>
              <div class="title">Components</div>
              <ul>
                <li><a href="app.html">App / Core</a></li>
                <li><a href="accordion.html">Accordion / Collapsible</a></li>
                <li><a href="action-sheet.html">Action Sheet / Actions</a></li>
                <li><a href="autocomplete.html">Autocomplete</a></li>
                <li><a href="badge.html">Badge</a></li>
                <li><a href="block.html">Block / Content Block</a></li>
                <li><a href="button.html">Button</a></li>
                <li><a href="calendar.html">Calendar / Datepicker</a></li>
                <li><a href="cards.html">Cards</a></li>
                <li><a href="checkbox.html">Checkbox</a></li>
                <li><a href="chips.html">Chips / Tags</a></li>
                <li><a href="contacts-list.html">Contacts List</a></li>
                <li><a href="data-table.html">Data Table</a></li>
                <li><a href="dialog.html">Dialog</a></li>
                <li><a href="floating-action-button.html">Floating Action Button</a></li>
                <li><a href="form.html">Form Data / Storage</a></li>
                <li><a href="grid.html">Grid / Layout Grid</a></li>
                <li><a href="icons.html">Icons</a></li>
                <li><a href="infinite-scroll.html">Infinite Scroll</a></li>
                <li><a href="inputs.html">Inputs / Form Inputs</a></li>
                <li><a href="lazy-load.html">Lazy Load</a></li>
                <li><a href="link.html">Link</a></li>
                <li><a href="list-view.html">List View</a></li>
                <li><a href="list-index.html">List Index</a></li>
                <li><a href="login-screen.html">Login Screen</a></li>
                <li><a href="messagebar.html">Messagebar</a></li>
                <li><a href="messages.html">Messages</a></li>
                <li><a href="navbar.html">Navbar</a></li>
                <li><a href="notification.html">Notification</a></li>
                <li><a href="page.html">Page</a></li>
                <li><a href="panel.html">Panel / Side Panels</a></li>
                <li><a href="photo-browser.html">Photo Browser</a></li>
                <li><a href="picker.html">Picker</a></li>
                <li><a href="popover.html">Popover</a></li>
                <li><a href="popup.html">Popup</a></li>
                <li><a href="preloader.html">Preloader</a></li>
                <li><a href="progressbar.html">Progressbar</a></li>
                <li><a href="pull-to-refresh.html">Pull to Refresh</a></li>
                <li><a href="radio.html">Radio</a></li>
                <li><a href="range-slider.html">Range Slider</a></li>
                <li><a href="searchbar.html">Searchbar</a></li>
                <li><a href="sheet-modal.html">Sheet Modal</a></li>
                <li><a href="smart-select.html">Smart Select</a></li>
                <li><a href="sortable-list.html">Sortable List</a></li>
                <li><a href="statusbar.html">Statusbar</a></li>
                <li><a href="stepper.html">Stepper</a></li>
                <li><a href="subnavbar.html">Subnavbar</a></li>
                <li><a href="swiper.html">Swiper</a></li>
                <li><a href="swipeout.html">Swipeout</a></li>
                <li><a href="tabs.html">Tabs</a></li>
                <li><a href="timeline.html">Timeline</a></li>
                <li><a href="toast.html">Toast</a></li>
                <li><a href="toggle.html">Toggle</a></li>
                <li><a href="toolbar-tabbar.html">Toolbar / Tabbar</a></li>
                <li><a href="vi.html">Video Intelligence (vi)</a></li>
                <li><a href="view.html">View / Router</a></li>
                <li><a href="virtual-list.html">Virtual List</a></li>
              </ul>
            </li>
            <li>
              <div class="title">Framework7 Icons</div>
              <ul>
                <li><a href="http://framework7.io/icons/">Framework7 Icons Cheatsheet</a></li>
              </ul>
            </li>
            <li>
              <div class="title">Styling</div>
              <ul>
                <li><a href="iphone-x.html">iPhone X</a></li>
                <li><a href="color-themes.html">Color Themes</a></li>
                <li><a href="typography.html">Typography</a></li>
                <li><a href="hairlines.html">Hairlines</a></li>
              </ul>
            </li>
            <li>
              <div class="title">Dom7</div>
              <ul>
                <li><a href="dom7.html">Dom7</a></li>
              </ul>
            </li>
            <li>
              <div class="title">Template7</div>
              <ul>
                <li><a href="template7.html">Template7</a></li>
              </ul>
            </li>
            <li>
              <div class="title">Fast Clicks</div>
              <ul>
                <li><a href="fast-clicks.html">Fast Clicks</a></li>
                <li><a href="active-state.html">Active State</a></li>
                <li><a href="tap-hold.html">Tap Hold Event (Long Tap)</a></li>
                <li><a href="touch-ripple.html">Touch Ripple (MD Theme)</a></li>
              </ul>
            </li>
            <li>
              <div class="title">Utilities</div>
              <ul>
                <li><a href="request.html">Request / Ajax</a></li>
                <li><a href="utils.html">Utils</a></li>
                <li><a href="device.html">Device</a></li>
                <li><a href="support.html">Support</a></li>
              </ul>
            </li>
            <li>
              <div class="title">Plugins API</div>
              <ul>
                <li><a href="plugins-api.html">Plugins API</a></li>
              </ul>
            </li>
            <li>
              <div class="title">Custom Build</div>
              <ul>
                <li><a href="custom-build.html">Custom Build</a></li>
              </ul>
            </li>
          </ul>
        </div>
        <div class="docs-content">
          <div class="improve-docs-link"><a href="https://github.com/framework7io/framework7-website/edit/master/src/pug/docs/router-component.pug" target="_blank">Improve this Doc</a></div>
          <h1>Router Component</h1>
          <div class="docs-index"></div>
          <p>Router Component is a special type of content that can be loaded by Router when we specify route content using <code>component</code> or <code>componentUrl</code> properties.</p>
          <p>It should help to better structure our apps, keep things in appropriate place, and make many things quicker and in a more clear and comfortable way.</p><h2>Component Structure</h2>
          <p>If you know what is Vue component, then it will be much easier to understand as it looks pretty similar. Router Component is basically an object with the following properties (all properties are optional):</p>
          <table class="params-table">
            <thead>
              <tr>
                <th>Property</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>template</td>
                <td>string</td>
                <td>Template7 template string. Will be compiled as Template7 template</td>
              </tr>
              <tr>
                <td>render</td>
                <td>function</td>
                <td>Render function to render component. Must return full html string or HTMLElement</td>
              </tr>
              <tr>
                <td>data</td>
                <td>function</td>
                <td>Component data, function must return component context data</td>
              </tr>
              <tr>
                <td>style</td>
                <td>string</td>
                <td>Component CSS styles. Styles will be added to the document after component will be mounted (added to DOM), and removed after component will be destroyed (removed from the DOM)</td>
              </tr>
              <tr>
                <td>styleScopeId</td>
                <td>string</td>
                <td>Unique style scope id in case you are using scoped styles. Will add <code>data-scope="styleScopeId"</code> to the component element</td>
              </tr>
              <tr>
                <td>methods</td>
                <td>object</td>
                <td>Object with additional component methods which extend component context</td>
              </tr>
              <tr>
                <td>on</td>
                <td>object</td>
                <td>Object with page events handlers</td>
              </tr>
              <tr>
                <th colspan="3">Lifecycle Hooks</th>
              </tr>
              <tr>
                <td>beforeCreate</td>
                <td>function</td>
                <td>Called synchronously immediately after the component has been initialized, before data and event/watcher setup.</td>
              </tr>
              <tr>
                <td>created</td>
                <td>function</td>
                <td>Called synchronously after the component is created, context data and methods are available and component element <code>$el</code> is also created and available</td>
              </tr>
              <tr>
                <td>beforeMount</td>
                <td>function</td>
                <td>Called right before component will be added to DOM</td>
              </tr>
              <tr>
                <td>mounted</td>
                <td>function</td>
                <td>Called right after component was be added to DOM</td>
              </tr>
              <tr>
                <td>beforeDestroy</td>
                <td>function</td>
                <td>Called right before component will be destoyed</td>
              </tr>
              <tr>
                <td>destroyed</td>
                <td>function</td>
                <td>Called when component destroyed</td>
              </tr>
            </tbody>
          </table>
          <div class="important-note">
            <p>All lifecycle hooks and methods automatically have their <code>this</code> context bound to the component context, so that you can access component data and methods. This means <b>you should not use an arrow function to define a lifecycle method</b> (e.g. <code>created: () => this.doSomething()</code>). The reason is arrow functions bind the parent context, so <code>this</code> will not be the component instance as you expect and <code>this.doSomething</code> will be undefined.</p>
          </div>
          <p>So the example route with page component may look like:</p>
          <pre><code class="js">routes = [
  // ...
  {
    path: '/some-page/',
    // Component Object
    component: {
      template: `
        &lt;div class="page"&gt;
          &lt;div class="navbar"&gt;
            &lt;div class="navbar-inner"&gt;
              &lt;div class="title"&gt;{{title}}&lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
          &lt;div class="page-content"&gt;
            &lt;a @click="openAlert" class="red-link"&gt;Open Alert&lt;/a&gt;
            &lt;div class="list simple-list"&gt;
              &lt;ul&gt;
                {{#each names}}
                  &lt;li&gt;{{this}}&lt;/li&gt;
                {{/each}}
              &lt;/ul&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      `,
      style: `
        .red-link {
          color: red;
        }
      `,
      data: function () {
        return {
          title: 'Component Page',
          names: ['John', 'Vladimir', 'Timo'],
        }
      },
      methods: {
        openAlert: function () {
          var self = this;
          self.$app.dialog.alert('Hello world!');
        },
      },
      on: {
        pageInit: function (e, page) {
          // do something on page init
        },
        pageAfterOut: function (e, page) {
          // page has left the view
        },
      }
    },
  },
  // ...
]</code></pre>
          <p>Note that in component additional <code>@</code> attribute is supported in component template. It is a shorthand method to assign event listener to the specified element. Specified event handler will be searched in component <code>methods</code></p>
          <h2>Component Context</h2>
          <p>As we said above, all component methods and Template7 compiler are executed in the context of the component.</p>
          <p>Component context is the object you have returned in component's <code>data</code> and methods from specified <code>methods</code> object, but also extended with the following useful properties:</p>
          <table class="params-table">
            <thead>
              <th>Property</th>
              <th>Type</th>
              <th>Desctiption</th>
            </thead>
            <tbody>
              <tr>
                <td>$el</td>
                <td>object</td>
                <td>Dom7 instance with component HTML element
                  <pre><code class="js">this.$el.find('p').addClass('red')</code></pre>
                </td>
              </tr>
              <tr>
                <td>$<br>$$<br>$dom7</td>
                <td>function</td>
                <td><a href="dom7.html">Dom7</a> library:
                  <pre><code class="js">this.$$('p').text('hello world')</code></pre>
                </td>
              </tr>
              <tr>
                <td>$app</td>
                <td>object</td>
                <td>Framework7 app instance
                  <pre><code class="js">this.$app.dialog.alert('Hello world!')</code></pre>
                </td>
              </tr>
              <tr>
                <td>$root</td>
                <td>object</td>
                <td>Root data and methods you have specified in <code>data</code> and <code>methods</code> properties on app init
                  <pre><code class="js">var app = new Framework7({
  // root data
  data: function () {
    return {
      username: 'johndoe'
    }
  },
  // root methods
  methods: {
    helloWorld: function () {
      app.dialog.alert('Hello world!');
    }
  }
});

// then in component:
console.log(this.$root.username); // -&gt; 'johndoe';

this.$root.helloWorld(); // -&gt; call alert</code></pre>
                </td>
              </tr>
              <tr>
                <td>$route</td>
                <td>object</td>
                <td>Current route. Contains object with route <code>query</code>, <code>hash</code>, <code>params</code>, <code>path</code> and <code>url</code></td>
              </tr>
              <tr>
                <td>$router</td>
                <td>Router instance</td>
                <td>Related router instance
                  <pre><code class="js">this.$router.back(); //navigate back</code></pre>
                </td>
              </tr>
              <tr>
                <td>$theme</td>
                <td>object</td>
                <td>Object with <code>md</code> and <code>ios</code> boolean properties which indicating current theme. For example:
                  <pre><code class="js">if (this.$theme.ios) { /* do something when iOS theme is active */ }
if (this.$theme.md) { /* do something when MD theme is active */ }</code></pre>
                </td>
              </tr>
            </tbody>
          </table>
          <h2>Component Page Events</h2>
          <p>Component page events handlers can be passed in <code>on</code> component property. They are usual DOM <a href="page.html#page-events">Page Events</a>. Because they are DOM events, they accept <code>event</code> as first agrument, and <a href="page.html#page-data">Page Data</a> as second argument. There only difference with usual DOM events is that their context (<code>this</code>) bound to component context and event handler name must be specified in camelCase format:</p>
          <pre><code class="js">...
data: function () {
  return {
    username: 'johndoe',
  };
},
on: {
  pageMounted: function (e, page) {
    console.log('page mounted');
  },
  pageInit: function (e, page) {
    console.log(this.username); // -&gt; 'johndoe'
  },
  pageBeforeIn: function (e, page) {
    console.log('page before in');
  },
  pageAfterIn: function (e, page) {
    console.log('page after in');
  },
  pageBeforeOut: function (e, page) {
    console.log('page before out');
  },
  pageAfterOut: function (e, page) {
    console.log('page after out');
  },
  pageBeforeRemove: function (e, page) {
    console.log('page before remove');
  },
}
</code></pre>
          <h2>Single File Component</h2>
          <p>It is not very comfortable to specify all component routes under same routes array, especially if we have a lot of such routes. This is why we can use <code>componentUrl</code> instead and out component into single file:</p>
          <pre><code class="js">routes = [
  ...
  {
    path: '/some-page/',
    componentUrl: './some-page.html',
  },
  ..
];</code></pre>
          <p>And in <code>some-page.html</code>:</p>
          <pre><code class="html">&lt;!-- component template --&gt;
&lt;template&gt;
  &lt;div class="page"&gt;
    &lt;div class="navbar"&gt;
      &lt;div class="navbar-inner"&gt;
        &lt;div class="title"&gt;{{title}}&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="page-content"&gt;
      &lt;a @click="openAlert"&gt;Open Alert&lt;/a&gt;
      &lt;div class="list simple-list"&gt;
        &lt;ul&gt;
          {{#each names}}
            &lt;li&gt;{{this}}&lt;/li&gt;
          {{/each}}
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;!-- component styles --&gt;
&lt;style&gt;
  .red-link {
    color: red;
  }
&lt;/style&gt;
&lt;!-- rest of component data and methods --&gt;
&lt;script&gt;
  // script must return component object
  return {
    data: function () {
      return {
        title: 'Component Page',
        names: ['John', 'Vladimir', 'Timo'],
      }
    },
    methods: {
      openAlert: function () {
        var self = this.$app.dialog.alert('Hello world!');
      },
    },
    on: {
      pageInit: function () {
        // do something on page init
      },
      pageAfterOut: function () {
        // page has left the view
      },
    }
  }
&lt;/script&gt;</code></pre>
          <p>Well, now it is much cleaner. The <code>&lt;template&gt;</code> and <code>&lt;style&gt;</code> tags will be automatically converted to the same properties of exported component.</p>
          <p>You may think that it is not valid to have a direct <code>return</code> statement in script, but it is ok because parser puts the content of the script tag into function body, so it is ok here</p>
          <h3>Scoped Styles</h3>
          <p>In case you want to scope component styles in single file component to this component only, you may add <code><b>scoped</b></code> attribute to component <code>&lt;style&gt;</code> tag:</p>
          <pre><code class="html">&lt;template&gt;
  &lt;!-- component template --&gt;
&lt;/template&gt;

&lt;!-- style has additional "scoped" attribute --&gt;
&lt;style scoped&gt;
  p {
    color: red;
  }
  a {
    text-decoration: none;
  }
&lt;/style&gt;

&lt;script&gt;
  return {
    ...
  }
&lt;/script&gt;</code></pre>
          <p>When scoped style added component element will have additional <code>data-scope="[unique_id]"</code> where [unique_id] is the unique timestamp. And all styles will be refactored to have this unique scope id, for example:</p>
          <pre><code class="css">[data-scope="1515740589328"] p {
  color: red;
}
[data-scope="1515740589328"] a {
  text-decoration: none;
}</code></pre>
          <p>In case you need to use more complex selector with including component parent reference, then you may use <code><b>{{this}}</b></code> keword to reference the component:</p>
          <pre><code class="html">&lt;template&gt;
  &lt;!-- component template --&gt;
&lt;/template&gt;

&lt;!-- style has additional "scoped" attribute --&gt;
&lt;style scoped&gt;
  &lt;!-- all paragraphs in this component will be red under iOS theme --&gt;
  html.ios {{this}} p {
    color: red;
  }
  &lt;!-- all paragraphs in this component will be green under MD theme --&gt;
  html.md {{this}} p {
    color: green;
  }
&lt;/style&gt;

&lt;script&gt;
  return {
    ...
  }
&lt;/script&gt;</code></pre>
        </div>
      </div>
    </main>
    <script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearchLite.min.js"></script>
    <script src="/js/jquery-1.11.0.min.js"></script>
    <script src="/js/highlight.min.js"></script>
    <script src="/js/main.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-74282934-5', 'auto');
      ga('send', 'pageview');
    </script>
    <script>
      (function(){
        var bsa = document.createElement('script');
           bsa.type = 'text/javascript';
           bsa.async = true;
           bsa.src = '//s3.buysellads.com/ac/bsa.js';
        (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
      })();
    </script>
    <script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
    <script>
      (function(){
        if(typeof _bsa !== 'undefined' && _bsa) {
        _bsa.init('default', 'CKYD627I', 'placement:framework7io', {
          target: '.bsa-cpc',
          align: 'horizontal',
          disable_css: 'true'
        });
          }
      })();
    </script>
  </body>
</html>